# AI服务配置
ai:
  provider: "volcengine"  # volcengine, openai, dashscope
  api_key: "d0666bb8-8a41-42f4-bd06-94ca6ba08457"  # 请替换为您的API密钥
  base_url: "https://ark.cn-beijing.volces.com/api/v3"
  models:
    embedding: "doubao-embedding-text-240715"  # 向量化模型
    chat: "doubao-seed-1-6-250615"           # 聊天模型
  parameters:
    temperature: 0.3      # 温度参数 (0.0-2.0)
    top_p: 0.8           # Top-P 参数 (0.0-1.0)
    max_tokens: 4000     # 最大 token 数

# 存储配置
storage:
  type: "minio"  # local, minio, oss, s3
  local:
    upload_path: "./uploads"
  minio:
    endpoint: "localhost:9000"      # MinIO服务地址
    access_key: "minioadmin"         # 访问密钥
    secret_key: "minioadmin"         # 私钥
    bucket_name: "ai-documents"     # 存储桶名称
    use_ssl: false                   # 是否使用SSL
  max_file_size: "100MB"
  allowed_extensions: [".pdf", ".docx", ".txt", ".md", ".json", ".xml", ".html", ".rtf", ".xlsx", ".pptx"]

# Milvus 向量数据库配置
milvus:
  host: "localhost"
  port: 19530
  collection_name: "modelscope_docs"
  vector_dim: 2560  # doubao-embedding-text-240715 维度 (实际测试为2560维)

# Redis 缓存配置
redis:
  host: "localhost"
  port: 6379
  db: 0
  password: null  # 如需密码请填写

# 检索配置
retrieval:
  top_k: 3                    # 检索返回文档数
  min_confidence_score: 0.7   # 最小置信度阈值
  vector_weight: 0.6          # 向量检索权重
  bm25_weight: 0.4            # BM25 检索权重

# Agent 配置
agent:
  max_conversation_turns: 10       # 最大对话轮数
  context_window_size: 4000        # 上下文窗口大小
  progress_threshold: 5            # 进度评估触发轮数
  clarification:
    enabled: true                  # 是否启用主动澄清
    threshold: 0.6                 # 触发澄清的置信度阈值
    max_attempts: 2                # 最大澄清尝试次数

# Session 配置
session:
  ttl: 3600                        # 会话过期时间(秒)，默认1小时
  max_sessions_per_user: 5         # 每个用户最大会话数
  cleanup_interval: 300            # 清理过期会话的间隔(秒)，默认5分钟

# 应用配置
app:
  environment: "development"  # development, production
  debug: false
  log_level: "INFO"          # DEBUG, INFO, WARNING, ERROR

# LangSmith 配置 (可选)
langsmith:
  enabled: false
  api_key: ""
  project: "modelscope-qa-agent"
